!function(e){"function"==typeof define&&define.amd?define("amd-config",[],e):"object"==typeof exports?module.exports=e():e()}(function(){var e={appDir:"",baseUrl:"scripts/",paths:{alertify:"vendor/bower_components/alertifyjs/build/alertify",jquery:"vendor/bower_components/jquery/dist/jquery",jqueryui:"vendor/bower_components/jquery-ui/jquery-ui",backbone:"vendor/bower_components/backbone/backbone",localstorage:"vendor/bower_components/backbone.localStorage",underscore:"vendor/bower_components/lodash/lodash",react:"vendor/bower_components/react/react","react-dom":"vendor/bower_components/react/react-dom","react-bootstrap":"vendor/bower_components/react-bootstrap/react-bootstrap",JSXTransformer:"vendor/bower_components/jsx-requirejs-plugin/js/JSXTransformer",jsx:"vendor/bower_components/jsx-requirejs-plugin/js/jsx",text:"vendor/bower_components/requirejs-text/text",reactbackbone:"vendor/bower_components/react.backbone/react.backbone",BackboneReactComponentmixin:"vendor/bower_components/backbone-react-component/lib/component",bootstrap:"vendor/bower_components/bootstrap/dist/js/bootstrap.min",urlStore:"modules/restaurant/helper/urlStore",backbone_extend:"utilities/backbone_extend",user:"modules/restaurant/users/models/UserModel","react-dnd":"vendor/bower_components/react-dnd/dist/ReactDnD.min","react-dnd-html5-backend":"../../node_modules/react-dnd-html5-backend/dist/ReactDnDHTML5Backend.min"},shim:{bootstrap:["jquery"],underscore:{exports:"_"},react:{exports:"React"},crypto:{exports:"CryptoJS"},JSXTransformer:"JSXTransformer",machina:["underscore"]},waitSeconds:0,jsx:{fileExtension:".jsx",transformOptions:{harmony:!0,stripTypes:!1,inlineSourceMap:!0},usePragma:!1}};return e});var authToken="";define("user",["underscore","backbone","urlStore"],function(e,n,t){"use strict";var r=n.Model.extend({baseUrl:t.login_url,initialize:function(){},url:function(){return this.baseUrl},parse:function(e){return e},deleteTokens:function(){localStorage.clear()},logged_in:function(){return localStorage.getItem("session_token")}});return r}),define("backbone_extend",["backbone","user"],function(e,n){var t=new n;return e.on("loading",function(){$("#loading").show()}),e.on("stop_loading",function(){$("#loading").hide()}),$.ajaxPrefilter(function(e,n,r){var o=t.logged_in();o&&r.setRequestHeader("session_token",o),e.xhrFields={withCredentials:!0}}),_.extend(e.Router.prototype,{before:function(e){var n=(Object.keys(this.routes),[""]);return t.logged_in()||_.include(n,e)?!0:(this.navigate("",{trigger:!0}),!1)},after:function(e){},route:function(n,t,r){_.isRegExp(n)||(n=this._routeToRegExp(n)),_.isFunction(t)&&(r=t,t=""),r||(r=this[t]);var o=this;return e.history.route(n,function(i){var s=o._extractParameters(n,i);o.before.apply(o,arguments)&&o.execute(r,s,t)&&(o.after.apply(o,arguments),o.trigger.apply(o,["route:"+t].concat(s)),o.trigger("route",t,s),e.history.trigger("route",o,t,s))}),this}}),_.extend(e.View.prototype,{remove:function(){this.killChildViews(),this.unsubscribe(),this.$el.empty(),this.stopListening(),this.undelegateEvents(),this.unbind()},killChildViews:function(){var e=this.childViews||[];e.forEach(function(e){e.remove()})},unsubscribe:function(){var e=this.subscriptions||[];e.forEach(function(e){e.unsubscribe()})}}),e}),define("routemap",[],function(){var e={SittingPlan:"modules/employee_management/views/spot_main_view.188df87e.cache"};return e}),define("config",["backbone"],function(e){var n={};return n.currentViews=[],n}),define("router",["jquery","underscore","backbone_extend","routemap","config","user"],function(e,n,t,r,o,i){"use strict";var s=t.Router.extend({routes:{"":"showLandingPage",logout:"Logout",spot:"spot","*path":"defaultView"},initialize:function(){console.log("router initialized")},execute:function(e,r){n.each(o.currentViews,function(e){e.remove()}),t.off(),e&&e.apply(this,r)},Logout:function(){require([r.logoutPage],function(){require([r.logoutPage.replace(/\..*/,"")],function(e){var n=new e;o.currentViews.push(n),n.render()})})},showLandingPage:function(){require([r.SittingPlan],function(){require([r.SittingPlan.replace(/\..*/,"")],function(e){var n=new e;o.currentViews.push(n),n.render()})})},spot:function(){require([r.SittingPlan],function(){require([r.SittingPlan.replace(/\..*/,"")],function(e){var n=new e;o.currentViews.push(n),n.render()})})},defaultView:function(){t.history.navigate("spot",{trigger:!0})}});return s}),define("app",["libs.4c700328.cache","router"],function(e,n){var t=function(){new n;Backbone.history.start({root:"/"})};return{initialize:t}}),require(["amd-config"],function(e){require.config(e),require(["libs.4c700328.cache"],function(){require(["app","jquery"],function(e,n){e.initialize(),n.ajaxPrefilter(function(e,n,t){var r=localStorage.getItem("session_token");void 0!==r&&t.setRequestHeader("session_token",r),e.xhrFields={withCredentials:!0}})})})}),define("mainConfig",function(){});
//# sourceMappingURL=mainConfig.js.map