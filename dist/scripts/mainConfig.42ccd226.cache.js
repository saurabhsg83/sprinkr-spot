!function(e){"function"==typeof define&&define.amd?define("amd-config",[],e):"object"==typeof exports?module.exports=e():e()}(function(){var e={appDir:"",baseUrl:"scripts/",paths:{alertify:"vendor/bower_components/alertify.js/dist/js/alertify",jquery:"vendor/bower_components/jquery/dist/jquery",jqueryui:"vendor/bower_components/jquery-ui/jquery-ui",backbone:"vendor/bower_components/backbone/backbone",localstorage:"vendor/bower_components/backbone.localStorage",underscore:"vendor/bower_components/lodash/lodash",react:"vendor/bower_components/react/react","react-dom":"vendor/bower_components/react/react-dom","react-bootstrap":"vendor/bower_components/react-bootstrap/react-bootstrap",JSXTransformer:"vendor/bower_components/jsx-requirejs-plugin/js/JSXTransformer",jsx:"vendor/bower_components/jsx-requirejs-plugin/js/jsx",text:"vendor/bower_components/requirejs-text/text",q:"vendor/bower_components/q/q",reactbackbone:"vendor/bower_components/react.backbone/react.backbone",BackboneReactComponentmixin:"vendor/bower_components/backbone-react-component/lib/component",machina:"vendor/bower_components/machina/lib/machina",moment:"vendor/bower_components/moment/moment",fusejs:"vendor/bower_components/fuse.js/src/fuse",bootstrap:"vendor/bower_components/bootstrap/dist/js/bootstrap.min",landingPage:"modules/restaurant/users/views/LandingPage.7bd43d14.cache",logoutPage:"modules/restaurant/users/views/LogoutPage.a3648b28.cache",urlStore:"modules/restaurant/helper/urlStore",backbone_extend:"utilities/backbone_extend",crypto:"vendor/bower_components/cryptojslib/rollups/md5",user:"modules/restaurant/users/models/UserModel","react-dnd":"vendor/bower_components/react-dnd/dist/ReactDnD.min","react-dnd-html5-backend":"../../node_modules/react-dnd-html5-backend/dist/ReactDnDHTML5Backend.min"},shim:{bootstrap:["jquery"],underscore:{exports:"_"},react:{exports:"React"},crypto:{exports:"CryptoJS"},JSXTransformer:"JSXTransformer",machina:["underscore"]},waitSeconds:0,jsx:{fileExtension:".jsx",transformOptions:{harmony:!0,stripTypes:!1,inlineSourceMap:!0},usePragma:!1}};return e});var authToken="";define("user",["underscore","backbone","urlStore"],function(e,n,o){"use strict";var t=n.Model.extend({baseUrl:o.login_url,initialize:function(){},url:function(){return this.baseUrl},parse:function(e){return e},deleteTokens:function(){localStorage.clear()},logged_in:function(){return localStorage.getItem("session_token")}});return t}),define("backbone_extend",["backbone","user"],function(e,n){var o=new n;return e.on("loading",function(){$("#loading").show()}),e.on("stop_loading",function(){$("#loading").hide()}),$.ajaxPrefilter(function(e,n,t){var r=o.logged_in();r&&t.setRequestHeader("session_token",r),e.xhrFields={withCredentials:!0}}),_.extend(e.Router.prototype,{before:function(e){var n=(Object.keys(this.routes),[""]);return o.logged_in()||_.include(n,e)?!0:(this.navigate("",{trigger:!0}),!1)},after:function(e){},route:function(n,o,t){_.isRegExp(n)||(n=this._routeToRegExp(n)),_.isFunction(o)&&(t=o,o=""),t||(t=this[o]);var r=this;return e.history.route(n,function(i){var s=r._extractParameters(n,i);r.before.apply(r,arguments)&&r.execute(t,s,o)&&(r.after.apply(r,arguments),r.trigger.apply(r,["route:"+o].concat(s)),r.trigger("route",o,s),e.history.trigger("route",r,o,s))}),this}}),_.extend(e.View.prototype,{remove:function(){this.killChildViews(),this.unsubscribe(),this.$el.empty(),this.stopListening(),this.undelegateEvents(),this.unbind()},killChildViews:function(){var e=this.childViews||[];e.forEach(function(e){e.remove()})},unsubscribe:function(){var e=this.subscriptions||[];e.forEach(function(e){e.unsubscribe()})}}),e}),define("routemap",[],function(){var e={landingPage:"modules/restaurant/users/views/LandingPage.7bd43d14.cache",MainTemplate:"modules/Common/MainTemplate/views/MainTemplate",logoutPage:"modules/restaurant/users/views/LogoutPage.a3648b28.cache",homePage:"modules/restaurant/orders/views/HomePage",SittingPlan:"modules/employee_management/views/spot_main_view.fdda7625.cache"};return e}),define("config",["backbone"],function(e){var n={};return n.currentViews=[],n}),define("router",["jquery","underscore","backbone_extend","routemap","config","user"],function(e,n,o,t,r,i){"use strict";var s=o.Router.extend({routes:{"":"showLandingPage",logout:"Logout",spot:"spot","*path":"defaultView"},initialize:function(){console.log("router initialized")},execute:function(e,t){n.each(r.currentViews,function(e){e.remove()}),o.off(),e&&e.apply(this,t)},Logout:function(){require([t.logoutPage],function(){require([t.logoutPage.replace(/\..*/,"")],function(e){var n=new e;r.currentViews.push(n),n.render()})})},showLandingPage:function(){require([t.SittingPlan],function(){require([t.SittingPlan.replace(/\..*/,"")],function(e){var n=new e;r.currentViews.push(n),n.render()})})},spot:function(){require([t.SittingPlan],function(){require([t.SittingPlan.replace(/\..*/,"")],function(e){var n=new e;r.currentViews.push(n),n.render()})})},defaultView:function(){o.history.navigate("spot",{trigger:!0})}});return s}),define("app",["libs.da615d65.cache","router"],function(e,n){var o=function(){new n;Backbone.history.start({root:"/"})};return{initialize:o}}),require(["amd-config"],function(e){require.config(e),require(["libs.da615d65.cache"],function(){require(["app","jquery"],function(e,n){e.initialize(),n.ajaxPrefilter(function(e,n,o){var t=localStorage.getItem("session_token");void 0!==t&&o.setRequestHeader("session_token",t),e.xhrFields={withCredentials:!0}})})})}),define("mainConfig",function(){});
//# sourceMappingURL=mainConfig.js.map